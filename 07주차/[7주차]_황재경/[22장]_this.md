# ğŸ“’22ì¥_ this
### ğŸ“‘ëª©ì°¨
- [`this` í‚¤ì›Œë“œ](#this-í‚¤ì›Œë“œ)
- [í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ `this` ë°”ì¸ë”©](#í•¨ìˆ˜-í˜¸ì¶œ-ë°©ì‹ê³¼-this-ë°”ì¸ë”©)

### âš¡Quick Summary
- `this` í‚¤ì›Œë“œ
    > ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ì˜í•´ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìê¸° ì°¸ì¡° ë³€ìˆ˜
- `this` ë°”ì¸ë”©ì€ í•¨ìˆ˜ í˜¸ì¶œ ì‹œì ì— ê²°ì •ë¨
    |í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹|`this` ë°”ì¸ë”©|
    |--|--|
    |ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ|ì „ì—­ ê°ì²´(global object)|
    |ë©”ì„œë“œ í˜¸ì¶œ|ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´|
    |ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ|ìƒì„±ì í•¨ìˆ˜ê°€ (ë¯¸ë˜ì—) ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤|
    |`Function.prototype.apply/call/bind` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ|ë©”ì„œë“œì— ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°ì²´|

## ğŸ“Œ`this` í‚¤ì›Œë“œ
> ìì‹ ì´ ì†í•œ ê°ì²´ ë˜ëŠ” ìì‹ ì´ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ***ìê¸° ì°¸ì¡° ë³€ìˆ˜(self-referencing variable)***
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ì˜í•´ ì•”ë¬µì ìœ¼ë¡œ ìƒì„±ë¨
- ì½”ë“œ ì–´ë””ì„œë“  ì°¸ì¡° ê°€ëŠ¥
- í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ `arguments` ê°ì²´ì™€ `this`ê°€ ì•”ë¬µì ìœ¼ë¡œ í•¨ìˆ˜ ë‚´ë¶€ì— ì „ë‹¬ë¨
- â­`this`ê°€ ê°€ë¦¬í‚¤ëŠ” ê°’(this binding)ì€ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ì˜í•´ ë™ì ìœ¼ë¡œ ê²°ì •ë¨

## ğŸ“Œí•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ê³¼ `this` ë°”ì¸ë”©
- í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹
    1. [ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ](#ì¼ë°˜-í•¨ìˆ˜-í˜¸ì¶œ)
    2. [ë©”ì„œë“œ í˜¸ì¶œ](#ë©”ì„œë“œ-í˜¸ì¶œ)
    3. [ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ](#ìƒì„±ì-í•¨ìˆ˜-í˜¸ì¶œ)
    4. [`Function.prototype.apply/call/bind` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ](#functionprototypeapplycallbind-ë©”ì„œë“œì—-ì˜í•œ-ê°„ì ‘-í˜¸ì¶œ)

### ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
> ê¸°ë³¸ì ìœ¼ë¡œ `this`ì— ì „ì—­ ê°ì²´(global object)ê°€ ë°”ì¸ë”©ë¨
- ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ” ì¼ë°˜ í•¨ìˆ˜ì—ì„œ `this`ëŠ” ë¬´ì˜ë¯¸
- strict modeê°€ ì ìš©ëœ ì¼ë°˜ í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ì—ëŠ” `undefined`ê°€ ë°”ì¸ë”©ë¨
- âš ï¸ë©”ì„œë“œ ë‚´ë¶€ì˜ ì¤‘ì²© í•¨ìˆ˜ë‚˜ ì½œë°± í•¨ìˆ˜ì˜ `this`ê°€ ì „ì—­ ê°ì²´ë¥¼ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì€ ë¬¸ì œì´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œì˜ `this` ë°”ì¸ë”©ê³¼ ì¼ì¹˜ì‹œì¼œì•¼ í•¨
    - ë©”ì„œë“œì˜ `this`ë¥¼ ë³€ìˆ˜ì— í• ë‹¹í•˜ê³  í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì‚¬ìš©
    - `Function.prototype.apply/call/bind` ë©”ì„œë“œë¥¼ í†µí•´ `this`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë°”ì¸ë”©
    - **í™”ì‚´í‘œ í•¨ìˆ˜** ë‚´ë¶€ì˜ `this`ê°€ **ìƒìœ„ ìŠ¤ì½”í”„**ì˜ `this`ë¥¼ ê°€ë¦¬í‚¤ëŠ” ê²ƒì„ í™œìš©
### ë©”ì„œë“œ í˜¸ì¶œ
> ë©”ì„œë“œ ë‚´ë¶€ì˜ `this`ì—ëŠ” **ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê°ì²´**, ì¦‰ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ë©”ì„œë“œ ì´ë¦„ ì•ì˜ ë§ˆì¹¨í‘œ(.) ì—°ì‚°ì ì•ì— ê¸°ìˆ í•œ ê°ì²´ê°€ ë°”ì¸ë”©ë¨
- `this`ì— ë°”ì¸ë”©ë  ê°ì²´ëŠ” **í˜¸ì¶œ ì‹œì ì— ê²°ì •**ë¨!
    - ë©”ì„œë“œë¥¼ ì†Œìœ í•œ ê°ì²´ê°€ ì•„ë‹Œ, ë©”ì„œë“œë¥¼ **í˜¸ì¶œ**í•œ ê°ì²´ì— ë°”ì¸ë”©ë¨
    - ë©”ì„œë“œëŠ” í•¨ìˆ˜ ê°ì²´, ì¦‰ *ì°¸ì¡°ê°’*ì„ ê°€ë¦¬í‚¤ê³  ìˆì„ ë¿ì´ë¯€ë¡œ ë©”ì„œë“œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆëŠ” ê°ì²´ì™€ëŠ” ìƒê´€ì´ ì—†ê³ , ë©”ì„œë“œë¥¼ **í˜¸ì¶œ**í•œ ê°ì²´ì— ë°”ì¸ë”©ë¨
### ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ
> ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ `this`ì—ëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ (ë¯¸ë˜ì—) ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ê°€ ë°”ì¸ë”©ë¨
- ìƒì„±ì í•¨ìˆ˜ëŠ” ì´ë¦„ ê·¸ëŒ€ë¡œ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
- `new` ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ê·¸ëƒ¥ ì¼ë°˜ í•¨ìˆ˜ë¡œ ë™ì‘
```jsx
// ìƒì„±ì í•¨ìˆ˜
function Circle(radius) {
  // ìƒì„±ì í•¨ìˆ˜ ë‚´ë¶€ì˜ thisëŠ” ìƒì„±ì í•¨ìˆ˜ê°€ ìƒì„±í•  ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚´
  this.radius = radius;
  this.getDiameter = function () {
    return 2 * this.radius;
  };
}

// ë°˜ì§€ë¦„ì´ 5ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
const circle1 = new Circle(5);
// ë°˜ì§€ë¦„ì´ 10ì¸ Circle ê°ì²´ë¥¼ ìƒì„±
const circle2 = new Circle(10);

console.log(circle1.getDiameter()); // 10
console.log(circle2.getDiameter()); // 20

const circle3 = Circle(15);
console.log(circle3); // undefined
// ì¼ë°˜ í•¨ìˆ˜ë¡œ í˜¸ì¶œëœ Circle ë‚´ë¶€ì˜ thisëŠ” ì „ì—­ ê°ì²´ë¥¼ ê°€ë¦¬í‚´
console.log(radius); // 15
```
### `Function.prototype.apply/call/bind` ë©”ì„œë“œì— ì˜í•œ ê°„ì ‘ í˜¸ì¶œ
- `Function.prototype`ì˜ ë©”ì„œë“œì´ë¯€ë¡œ ëª¨ë“  í•¨ìˆ˜ê°€ ìƒì†ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥
- `Function.prototype.apply/call`
    ```jsx
    /**
     * ì£¼ì–´ì§„ this ë°”ì¸ë”©ê³¼ ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ ë°°ì—´ì„ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
     * @params thisArg - thisë¡œ ì‚¬ìš©í•  ê°ì²´
     * @parmas argsArray - í•¨ìˆ˜ì—ê²Œ ì „ë‹¬í•  ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ì˜ ë°°ì—´ ë˜ëŠ” ìœ ì‚¬ ë°°ì—´ ê°ì²´
     * @returns í˜¸ì¶œëœ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ 
     */
    Function.prototype.apply(thisArg[, argsArray])

    /**
     * ì£¼ì–´ì§„ this ë°”ì¸ë”©ê³¼ ,ë¡œ êµ¬ë¶„ëœ ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œ
     * @params thisArg - thisë¡œ ì‚¬ìš©í•  ê°ì²´
     * @parmas arg1, arg2, â€¦ - í•¨ìˆ˜ì—ê²Œ ì „ë‹¬í•  ì¸ìˆ˜ ë¦¬ìŠ¤íŠ¸
     * @returns í˜¸ì¶œëœ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ 
     */
    Function.prototype.call(thisArg[, arg1[, arg2[, â€¦]]]);
    ```
    - ì¦‰, í˜¸ì¶œí•  í•¨ìˆ˜ì— ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ë§Œ ë‹¤ë¥¼ ë¿ ë™ì¼í•˜ê²Œ ë™ì‘
        ```jsx
        function getThisBinding() {
            console.log(arguments);
            return this;
        }

        // thisë¡œ ì‚¬ìš©í•  ê°ì²´
        const thisArg = { a: 1 };

        console.log(getThisBinding.apply(thisArg, [1, 2, 3]));
        // Arguments(3) [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]
        // {a: 1}

        console.log(getThisBinding.call(thisArg, 1, 2, 3));
        // Arguments(3) [1, 2, 3, callee: Æ’, Symbol(Symbol.iterator): Æ’]
        // {a: 1}
        ```
    - âœ”ï¸ë³´í†µ `arguments` ê°ì²´ì™€ ê°™ì€ ìœ ì‚¬ ë°°ì—´ ê°ì²´ì— ë°°ì—´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì— `apply`ì™€ `call` ë©”ì„œë“œë¥¼ ì´ìš©
        ```jsx
        function convertArgsToArray() {
            console.log(arguments);

            // arguments ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë³€í™˜
            // Array.prototype.sliceë¥¼ ì¸ìˆ˜ì—†ì´ í˜¸ì¶œí•˜ë©´ ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ìƒì„±
            const arr = Array.prototype.slice.call(arguments);
            // const arr = Array.prototype.slice.apply(arguments);
            console.log(arr);

            return arr;
        }

        convertArgsToArray(1, 2, 3); // [1, 2, 3]
        ```
- `Function.prototype.bind`
    - í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ëŠ” ì•Šê³  ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ê°’ìœ¼ë¡œ `this` ë°”ì¸ë”©ì´ êµì²´ëœ í•¨ìˆ˜ë¥¼ ìƒˆë¡­ê²Œ ìƒì„±í•´ ë°˜í™˜
        ```jsx
        function getThisBinding() {
            return this;
        }

        // thisë¡œ ì‚¬ìš©í•  ê°ì²´
        const thisArg = { a: 1 };

        // bind ë©”ì„œë“œëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ëŠ” ì•Šìœ¼ë¯€ë¡œ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•´ì•¼ í•¨
        console.log(getThisBinding.bind(thisArg)()); // {a: 1}
        ```